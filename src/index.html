<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Linked data browser</title>
  <script src="lib/xdomain/dist/xdomain.js"></script>
  <script src="lib/webcomponentsjs/webcomponents.js"></script>
  <script src="lib/jsonld/js/jsonld.js"></script>
  <script src="lib/qwest/src/qwest.js"></script>
  <script src="lib/reflux/dist/reflux.js"></script>
  <script src="js/actions.js"></script>
  <script src="js/modelStore.js"></script>
  <script src="js/historyStore.js"></script>
  <link rel="import" href="lib/polymer/polymer.html" />
  <link rel="import" href="components/ld-browser.html" />

  <!-- Bootstrap -->
  <link href="lib/bootstrap/dist/css/bootstrap.css" rel="stylesheet" />

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body unresolved>
  <ld-browser uri=""></ld-browser>
  <script>
  function getQueryVariable(variable)
  {
    var query = window.location.search.substring(1);
    var vars = query.split("&");
    for (var i=0;i<vars.length;i++) {
      var pair = vars[i].split("=");
      if(pair[0] == variable){return pair[1];}
    }
    return(false);
  }

    window.addEventListener('polymer-ready', function() {
      var url = getQueryVariable('uri');
      if (url == false) {
        url = 'http://test.wikibus.org/';
      }

      var browser = document.querySelector('ld-browser');
      browser.uri = url;
      browser.load();
    });
  </script>
</body>
</html>
