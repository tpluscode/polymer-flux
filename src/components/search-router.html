<script src="/lib/page/page.js"></script>

<dom-module id="search-router">
    <template>
        <flux-actions id="actions"></flux-actions>
    </template>
</dom-module>

<script>
    Polymer({
        is: 'search-router',
        attached: function() {
            var self = this;

            // We use Page.js for routing. This is a Micro
            // client-side router inspired by the Express router
            // More info: https://visionmedia.github.io/page.js/
            page('/', function () {
                app.route = 'article-box';
                self.$.actions.article.search();
            });

            page('/article/:id', function (data) {
                app.route = 'article';
                self.$.actions.article.show(data.params.id);
            });

            // add #! before urls
            page({
                hashbang: false
            });
        }
    });
</script>
